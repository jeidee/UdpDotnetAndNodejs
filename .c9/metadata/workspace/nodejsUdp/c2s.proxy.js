{"filter":false,"title":"c2s.proxy.js","tooltip":"/nodejsUdp/c2s.proxy.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":100,"column":0}},"nl":"\n","lines":["var c2smessage = require('./c2s.message.js');","var entity = require('./entity.js');","var moment = require('moment');","","var proxy = function() {","};","","proxy.prototype = {","\tHeartbeat : function(to_ip, to_port, server, uid) {","\t\ttry {","\t\t\tvar send_message = new c2smessage.HeartbeatMessage();","\t\t\tsend_message.id = \"100\";","\t\t\tsend_message.uid = uid;","","\t\t\tvar send_data = new Buffer(JSON.stringify(send_message));","\t\t\tserver.send(send_data, 0, send_data.length, to_port, to_ip);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqChat : function(to_ip, to_port, server, uid, group, chat) {","\t\ttry {","\t\t\tvar send_message = new c2smessage.ReqChatMessage();","\t\t\tsend_message.id = \"101\";","\t\t\tsend_message.uid = uid;","\t\t\tsend_message.group = group;","\t\t\tsend_message.chat = chat;","","\t\t\tvar send_data = new Buffer(JSON.stringify(send_message));","\t\t\tserver.send(send_data, 0, send_data.length, to_port, to_ip);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqLogin : function(to_ip, to_port, server, uid) {","\t\ttry {","\t\t\tvar send_message = new c2smessage.ReqLoginMessage();","\t\t\tsend_message.id = \"102\";","\t\t\tsend_message.uid = uid;","","\t\t\tvar send_data = new Buffer(JSON.stringify(send_message));","\t\t\tserver.send(send_data, 0, send_data.length, to_port, to_ip);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqLogout : function(to_ip, to_port, server, uid) {","\t\ttry {","\t\t\tvar send_message = new c2smessage.ReqLogoutMessage();","\t\t\tsend_message.id = \"103\";","\t\t\tsend_message.uid = uid;","","\t\t\tvar send_data = new Buffer(JSON.stringify(send_message));","\t\t\tserver.send(send_data, 0, send_data.length, to_port, to_ip);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqJoin : function(to_ip, to_port, server, uid, group) {","\t\ttry {","\t\t\tvar send_message = new c2smessage.ReqJoinMessage();","\t\t\tsend_message.id = \"104\";","\t\t\tsend_message.uid = uid;","\t\t\tsend_message.group = group;","","\t\t\tvar send_data = new Buffer(JSON.stringify(send_message));","\t\t\tserver.send(send_data, 0, send_data.length, to_port, to_ip);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqLeave : function(to_ip, to_port, server, uid, group) {","\t\ttry {","\t\t\tvar send_message = new c2smessage.ReqLeaveMessage();","\t\t\tsend_message.id = \"105\";","\t\t\tsend_message.uid = uid;","\t\t\tsend_message.group = group;","","\t\t\tvar send_data = new Buffer(JSON.stringify(send_message));","\t\t\tserver.send(send_data, 0, send_data.length, to_port, to_ip);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqUserList : function(to_ip, to_port, server, uid, group) {","\t\ttry {","\t\t\tvar send_message = new c2smessage.ReqUserListMessage();","\t\t\tsend_message.id = \"106\";","\t\t\tsend_message.uid = uid;","\t\t\tsend_message.group = group;","","\t\t\tvar send_data = new Buffer(JSON.stringify(send_message));","\t\t\tserver.send(send_data, 0, send_data.length, to_port, to_ip);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","};","","exports.proxy = proxy;"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":45}},"text":"var c2smessage = require('./c2s.message.js');"},{"action":"insertText","range":{"start":{"row":0,"column":45},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":102,"column":0}},"lines":["var entity = require('./chat.entity.js');","var moment = require('moment');","","var proxy = function() {","\tthis.protocol = undefined;","};","","proxy.prototype = {","\tHeartbeat : function(socket, uid) {","\t\ttry {","\t\t\tvar sendMessage = new c2smessage.HeartbeatMessage();","\t\t\tsendMessage.id = \"100\";","\t\t\tsendMessage.uid = uid;","","\t\t\tvar sendData = new Buffer(JSON.stringify(sendMessage));","\t\t\tthis.protocol.sendPacket(socket, sendData);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqLogin : function(socket, uid, dummy) {","\t\ttry {","\t\t\tvar sendMessage = new c2smessage.ReqLoginMessage();","\t\t\tsendMessage.id = \"101\";","\t\t\tsendMessage.uid = uid;","\t\t\tsendMessage.dummy = dummy;","","\t\t\tvar sendData = new Buffer(JSON.stringify(sendMessage));","\t\t\tthis.protocol.sendPacket(socket, sendData);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqLogout : function(socket, uid) {","\t\ttry {","\t\t\tvar sendMessage = new c2smessage.ReqLogoutMessage();","\t\t\tsendMessage.id = \"102\";","\t\t\tsendMessage.uid = uid;","","\t\t\tvar sendData = new Buffer(JSON.stringify(sendMessage));","\t\t\tthis.protocol.sendPacket(socket, sendData);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqJoin : function(socket, uid, group) {","\t\ttry {","\t\t\tvar sendMessage = new c2smessage.ReqJoinMessage();","\t\t\tsendMessage.id = \"103\";","\t\t\tsendMessage.uid = uid;","\t\t\tsendMessage.group = group;","","\t\t\tvar sendData = new Buffer(JSON.stringify(sendMessage));","\t\t\tthis.protocol.sendPacket(socket, sendData);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqLeave : function(socket, uid, group) {","\t\ttry {","\t\t\tvar sendMessage = new c2smessage.ReqLeaveMessage();","\t\t\tsendMessage.id = \"104\";","\t\t\tsendMessage.uid = uid;","\t\t\tsendMessage.group = group;","","\t\t\tvar sendData = new Buffer(JSON.stringify(sendMessage));","\t\t\tthis.protocol.sendPacket(socket, sendData);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqUserList : function(socket, uid, group) {","\t\ttry {","\t\t\tvar sendMessage = new c2smessage.ReqUserListMessage();","\t\t\tsendMessage.id = \"105\";","\t\t\tsendMessage.uid = uid;","\t\t\tsendMessage.group = group;","","\t\t\tvar sendData = new Buffer(JSON.stringify(sendMessage));","\t\t\tthis.protocol.sendPacket(socket, sendData);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","\tReqChat : function(socket, uid, group, chat) {","\t\ttry {","\t\t\tvar sendMessage = new c2smessage.ReqChatMessage();","\t\t\tsendMessage.id = \"106\";","\t\t\tsendMessage.uid = uid;","\t\t\tsendMessage.group = group;","\t\t\tsendMessage.chat = chat;","","\t\t\tvar sendData = new Buffer(JSON.stringify(sendMessage));","\t\t\tthis.protocol.sendPacket(socket, sendData);","\t\t} catch(e) {","\t\t\tconsole.log(e);","\t\t}","\t},","};","","exports.proxy = proxy;"]}]}]]},"ace":{"folds":[],"scrolltop":882,"scrollleft":0,"selection":{"start":{"row":102,"column":0},"end":{"row":102,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":11,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1411008779281,"hash":"12eace136a55dcebaa0b2e7b1ceee265b1e31b5a"}